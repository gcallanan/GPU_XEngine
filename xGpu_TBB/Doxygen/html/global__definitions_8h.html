<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MeerkatGpuXEngine: global_definitions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MeerkatGpuXEngine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">global_definitions.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>File containing most user configurable parameters.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cstdint&gt;</code><br />
<code>#include &quot;tbb/flow_graph.h&quot;</code><br />
<code>#include &lt;boost/asio.hpp&gt;</code><br />
<code>#include &lt;spead2/common_thread_pool.h&gt;</code><br />
<code>#include &lt;spead2/recv_udp.h&gt;</code><br />
<code>#include &lt;spead2/recv_udp_pcap.h&gt;</code><br />
<code>#include &lt;spead2/recv_heap.h&gt;</code><br />
<code>#include &lt;spead2/recv_live_heap.h&gt;</code><br />
<code>#include &lt;spead2/recv_ring_stream.h&gt;</code><br />
<code>#include &lt;spead2/recv_stream.h&gt;</code><br />
<code>#include &lt;bitset&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;boost/shared_ptr.hpp&gt;</code><br />
<code>#include &lt;boost/make_shared.hpp&gt;</code><br />
<code>#include &quot;xgpu.h&quot;</code><br />
<code>#include &lt;atomic&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for global_definitions.h:</div>
<div class="dyncontent">
<div class="center"><img src="global__definitions_8h__incl.png" border="0" usemap="#global__definitions_8h" alt=""/></div>
<map name="global__definitions_8h" id="global__definitions_8h">
<area shape="rect" id="node17" href="xgpu_8h_source.html" title="xgpu.h" alt="" coords="2219,87,2280,114"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="global__definitions_8h__dep__incl.png" border="0" usemap="#global__definitions_8hdep" alt=""/></div>
<map name="global__definitions_8hdep" id="global__definitions_8hdep">
<area shape="rect" id="node2" href="_buffer_8h_source.html" title="Buffer.h" alt="" coords="5,80,73,107"/>
<area shape="rect" id="node3" href="x__gpu__pipelined_8cpp.html" title="This is the main file for the MeerKAT GPU X&#45;Engine program. It launches all the threads in the pipeli..." alt="" coords="193,155,333,181"/>
<area shape="rect" id="node4" href="_g_p_u_wrapper_8h_source.html" title="GPUWrapper.h" alt="" coords="149,80,260,107"/>
<area shape="rect" id="node5" href="_reorder_8h_source.html" title="Reorder.h" alt="" coords="284,80,363,107"/>
<area shape="rect" id="node6" href="_spead2_rx_8h_source.html" title="Spead2Rx.h" alt="" coords="387,80,481,107"/>
<area shape="rect" id="node7" href="_spead_tx_8h_source.html" title="SpeadTx.h" alt="" coords="506,80,591,107"/>
</map>
</div>
</div>
<p><a href="global__definitions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_pipeline_counts_struct.html">PipelineCountsStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_dual_poll_complex_struct__in.html">DualPollComplexStruct_in</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_baseline_products_struct__out.html">BaselineProductsStruct_out</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_x_gpu_input_buffer_packet_struct.html">XGpuInputBufferPacketStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_x_gpu_output_buffer_packet_struct.html">XGpuOutputBufferPacketStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_gpu_buffers.html">XGpuBuffers</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for managing xGPU initialisation and memory assignment.  <a href="class_x_gpu_buffers.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stream_object.html">StreamObject</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for packets to be passed between stages in the pipline.  <a href="class_stream_object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spead2_rx_packet.html">Spead2RxPacket</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet that is transmitted by the <a class="el" href="class_spead2_rx.html">Spead2Rx</a> class.  <a href="class_spead2_rx_packet.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_buffer_packet.html">BufferPacket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spead2_rx_packet_wrapper.html">Spead2RxPacketWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reorder_packet.html">ReorderPacket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_p_u_wrapper_packet.html">GPUWrapperPacket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_stream_object_pointer_compare.html">StreamObjectPointerCompare</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad88786c933fadb1eec87bc037816a95c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#ad88786c933fadb1eec87bc037816a95c">NUM_ANTENNAS</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:ad88786c933fadb1eec87bc037816a95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03f828117aaf4bb571972466369c42a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#ab03f828117aaf4bb571972466369c42a">NUM_CHANNELS_PER_XENGINE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ab03f828117aaf4bb571972466369c42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6a287942d41da4e609bd81f411c02d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a8d6a287942d41da4e609bd81f411c02d">NUM_POLLS</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a8d6a287942d41da4e609bd81f411c02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fde7124d36ed243861ce7e7a30bf7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a47fde7124d36ed243861ce7e7a30bf7f">NUM_TIME_SAMPLES</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a47fde7124d36ed243861ce7e7a30bf7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636ddc19af00bc87969a07c88331f105"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a636ddc19af00bc87969a07c88331f105"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FFT_SIZE</b>&#160;&#160;&#160;(<a class="el" href="global__definitions_8h.html#ab03f828117aaf4bb571972466369c42a">NUM_CHANNELS_PER_XENGINE</a>*4*<a class="el" href="global__definitions_8h.html#ad88786c933fadb1eec87bc037816a95c">NUM_ANTENNAS</a>)</td></tr>
<tr class="separator:a636ddc19af00bc87969a07c88331f105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae354586da8298293d46c387b1cb453ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#ae354586da8298293d46c387b1cb453ca">QUADRANT_SIZE</a>&#160;&#160;&#160;((<a class="el" href="global__definitions_8h.html#ad88786c933fadb1eec87bc037816a95c">NUM_ANTENNAS</a>/2+1)*(<a class="el" href="global__definitions_8h.html#ad88786c933fadb1eec87bc037816a95c">NUM_ANTENNAS</a>/4))</td></tr>
<tr class="separator:ae354586da8298293d46c387b1cb453ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9c8d9cd803d794ff3b5e96b83544b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a6f9c8d9cd803d794ff3b5e96b83544b1">NUM_BASELINES</a>&#160;&#160;&#160;(<a class="el" href="global__definitions_8h.html#ae354586da8298293d46c387b1cb453ca">QUADRANT_SIZE</a>*4)</td></tr>
<tr class="separator:a6f9c8d9cd803d794ff3b5e96b83544b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734854fd0fb53a3edbfa4712b8ea77d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a734854fd0fb53a3edbfa4712b8ea77d8">RESYNC_LIMIT</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:a734854fd0fb53a3edbfa4712b8ea77d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76636fa3796dc7daf49e4bf6e1800c4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a76636fa3796dc7daf49e4bf6e1800c4c">TIMESTAMP_JUMP</a>&#160;&#160;&#160;(<a class="el" href="global__definitions_8h.html#a47fde7124d36ed243861ce7e7a30bf7f">NUM_TIME_SAMPLES</a>*2*FFT_SIZE)</td></tr>
<tr class="separator:a76636fa3796dc7daf49e4bf6e1800c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963acd9cf2e9eb8cbe63327716bf2321"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a963acd9cf2e9eb8cbe63327716bf2321">DEFAULT_ACCUMULATIONS_THRESHOLD</a>&#160;&#160;&#160;((int)(1632*1.5))</td></tr>
<tr class="separator:a963acd9cf2e9eb8cbe63327716bf2321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e8629b4c165aa4e56d2acc72a5d5ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a88e8629b4c165aa4e56d2acc72a5d5ea">ARMORTISER_SIZE</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a88e8629b4c165aa4e56d2acc72a5d5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ae44fe05841c8ac3591ea7aa5a43bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#ad4ae44fe05841c8ac3591ea7aa5a43bc">ARMORTISER_TO_GPU_SIZE</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ad4ae44fe05841c8ac3591ea7aa5a43bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704a3e35bae9856130cd40f52f14469c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a704a3e35bae9856130cd40f52f14469c">NUM_REORDER_STAGES</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a704a3e35bae9856130cd40f52f14469c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51ded0bbd705f02f73fc60c0b721ced"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ad51ded0bbd705f02f73fc60c0b721ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19eb0efaa8a1d77712b26ec708e4fd56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a19eb0efaa8a1d77712b26ec708e4fd56">USE_SSE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a19eb0efaa8a1d77712b26ec708e4fd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766d9b0b010729344b423964fbe6b0eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a766d9b0b010729344b423964fbe6b0eb">DEFAULT_XGPU_OUTPUT_BUFFERS_THRESHOLD</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a766d9b0b010729344b423964fbe6b0eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af8026c7301755dfceba7e6cda5830e46"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_pipeline_counts_struct.html">PipelineCountsStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#af8026c7301755dfceba7e6cda5830e46">PipelineCounts</a></td></tr>
<tr class="separator:af8026c7301755dfceba7e6cda5830e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a16a561045b7779c1db048066fc364"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_dual_poll_complex_struct__in.html">DualPollComplexStruct_in</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a15a16a561045b7779c1db048066fc364">DualPollComplex_in</a></td></tr>
<tr class="separator:a15a16a561045b7779c1db048066fc364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10ea968fb8f53bcca11b6cc0758ff0b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_baseline_products_struct__out.html">BaselineProductsStruct_out</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#ad10ea968fb8f53bcca11b6cc0758ff0b">BaselineProducts_out</a></td></tr>
<tr class="separator:ad10ea968fb8f53bcca11b6cc0758ff0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3be2a33f2e7a79e14ba4a3d6f77268"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_x_gpu_input_buffer_packet_struct.html">XGpuInputBufferPacketStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#aca3be2a33f2e7a79e14ba4a3d6f77268">XGpuInputBufferPacket</a></td></tr>
<tr class="separator:aca3be2a33f2e7a79e14ba4a3d6f77268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7919954aecf9a2c4521f0af7c1109498"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_x_gpu_output_buffer_packet_struct.html">XGpuOutputBufferPacketStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a7919954aecf9a2c4521f0af7c1109498">XGpuOutputBufferPacket</a></td></tr>
<tr class="separator:a7919954aecf9a2c4521f0af7c1109498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e3e28c67fe4f0e936afa18b61683fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8e3e28c67fe4f0e936afa18b61683fa"></a>
typedef tbb::flow::multifunction_node&lt; boost::shared_ptr&lt; <a class="el" href="class_stream_object.html">StreamObject</a> &gt;, tbb::flow::tuple&lt; boost::shared_ptr&lt; <a class="el" href="class_stream_object.html">StreamObject</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>multi_node</b></td></tr>
<tr class="separator:ae8e3e28c67fe4f0e936afa18b61683fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a715d2499260b59d9c8d45517fd543d15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a715d2499260b59d9c8d45517fd543d15">getBaselineOffset</a> (int ant0, int ant1)</td></tr>
<tr class="memdesc:a715d2499260b59d9c8d45517fd543d15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the index of a single baseline in a packet of baselines output from xGPU. This offset is not in bytes, but in baselines. It needs to be multiplied by size of a baseline to search through bytes. It is required that ant0&gt;ant1 or else an error is thrown.  <a href="#a715d2499260b59d9c8d45517fd543d15">More...</a><br /></td></tr>
<tr class="separator:a715d2499260b59d9c8d45517fd543d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73aa3958c89ff5dd44c96d2994acad40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="global__definitions_8h.html#a73aa3958c89ff5dd44c96d2994acad40">displayBaseline</a> (<a class="el" href="global__definitions_8h.html#ad10ea968fb8f53bcca11b6cc0758ff0b">BaselineProducts_out</a> *XGpuPacketOut, int i, int j)</td></tr>
<tr class="memdesc:a73aa3958c89ff5dd44c96d2994acad40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to print out an individual baseline. It is required that i&gt;j or else an error is thrown.  <a href="#a73aa3958c89ff5dd44c96d2994acad40">More...</a><br /></td></tr>
<tr class="separator:a73aa3958c89ff5dd44c96d2994acad40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aee44b0a3d520287f7d6f1c77363c2dd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee44b0a3d520287f7d6f1c77363c2dd2"></a>
<a class="el" href="global__definitions_8h.html#af8026c7301755dfceba7e6cda5830e46">PipelineCounts</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pipelineCounts</b></td></tr>
<tr class="separator:aee44b0a3d520287f7d6f1c77363c2dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398527b3e9e358c345c5047b16871957"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a398527b3e9e358c345c5047b16871957"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>debug</b></td></tr>
<tr class="separator:a398527b3e9e358c345c5047b16871957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243bd1199fb28e7c5de4c0106a0e3c96"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a243bd1199fb28e7c5de4c0106a0e3c96"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>speadTxSuccessCount</b></td></tr>
<tr class="separator:a243bd1199fb28e7c5de4c0106a0e3c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File containing most user configurable parameters. </p>
<dl class="section author"><dt>Author</dt><dd>Gareth Callanan</dd></dl>
<p>This file contains most of the macros that the user will need to change for their own needs. It also contains the pipeline packet classes that are used to pass data between pipeline stages. The </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a88e8629b4c165aa4e56d2acc72a5d5ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARMORTISER_SIZE&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Before packets are handed over to the next stage of the pipeline they are grouped into a larger packet to reduce thread overhead. ARMORTISER_SIZE specifies the number of packets to group </p>

</div>
</div>
<a class="anchor" id="ad4ae44fe05841c8ac3591ea7aa5a43bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARMORTISER_TO_GPU_SIZE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same function as ARMORTISER_SIZE but specifically implemented for the transmission from the <a class="el" href="class_reorder.html">Reorder</a> to the <a class="el" href="class_g_p_u_wrapper.html">GPUWrapper</a> class. This class needs to have a smaller ARMORTISER_SIZE as the packets q ueued here are holding GPU memory which we want to use efficiently </p>

</div>
</div>
<a class="anchor" id="ad51ded0bbd705f02f73fc60c0b721ced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block size to perform the transpose, must be a power of two. </p>

</div>
</div>
<a class="anchor" id="a6b20d41d6252e9871430c242cb1a56e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of consecutive timestamps the <a class="el" href="class_buffer.html">Buffer</a> class will have room to buffer </p>

</div>
</div>
<a class="anchor" id="a963acd9cf2e9eb8cbe63327716bf2321"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_ACCUMULATIONS_THRESHOLD&#160;&#160;&#160;((int)(1632*1.5))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of accumulations </p>

</div>
</div>
<a class="anchor" id="a766d9b0b010729344b423964fbe6b0eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_XGPU_OUTPUT_BUFFERS_THRESHOLD&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of output xGPU packets to allocate space for. This needs to be greater than 1 so that another output packet can be allocated while another is being processed. However this does not need to be too large as a new packet gets created in the order of seconds. </p>

</div>
</div>
<a class="anchor" id="ad88786c933fadb1eec87bc037816a95c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_ANTENNAS&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of antennas in the array. </p>

</div>
</div>
<a class="anchor" id="a6f9c8d9cd803d794ff3b5e96b83544b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_BASELINES&#160;&#160;&#160;(<a class="el" href="global__definitions_8h.html#ae354586da8298293d46c387b1cb453ca">QUADRANT_SIZE</a>*4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of baselines being output </p>

</div>
</div>
<a class="anchor" id="ab03f828117aaf4bb571972466369c42a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_CHANNELS_PER_XENGINE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of channels to be processed per X-Engine. Also the number of channels per SPEAD heap </p>

</div>
</div>
<a class="anchor" id="a8d6a287942d41da4e609bd81f411c02d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_POLLS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the FFT performed by the F-Engines. Number of polarisations per channel to be processed per X-Engine </p>

</div>
</div>
<a class="anchor" id="a704a3e35bae9856130cd40f52f14469c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_REORDER_STAGES&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of stages for the reoder pipeline module. Each stage is processed by a different thread </p>

</div>
</div>
<a class="anchor" id="a47fde7124d36ed243861ce7e7a30bf7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_TIME_SAMPLES&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of time samples per SPEAD heap </p>

</div>
</div>
<a class="anchor" id="ae354586da8298293d46c387b1cb453ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QUADRANT_SIZE&#160;&#160;&#160;((<a class="el" href="global__definitions_8h.html#ad88786c933fadb1eec87bc037816a95c">NUM_ANTENNAS</a>/2+1)*(<a class="el" href="global__definitions_8h.html#ad88786c933fadb1eec87bc037816a95c">NUM_ANTENNAS</a>/4))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of a quadrant - This is used for displaying the baseline as the ordering does not follow a simple pattern. See <a class="el" href="global__definitions_8h.html#a73aa3958c89ff5dd44c96d2994acad40" title="Function to print out an individual baseline. It is required that i&gt;j or else an error is thrown...">displayBaseline()</a> and <a class="el" href="global__definitions_8h.html#a715d2499260b59d9c8d45517fd543d15" title="Function to get the index of a single baseline in a packet of baselines output from xGPU...">getBaselineOffset()</a> for an implementation of baseline ordering </p>

</div>
</div>
<a class="anchor" id="a734854fd0fb53a3edbfa4712b8ea77d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESYNC_LIMIT&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the incoming packet has a timestamp which is greater than RESYNC_LIMIT then a resync is triggered </p>

</div>
</div>
<a class="anchor" id="a76636fa3796dc7daf49e4bf6e1800c4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMESTAMP_JUMP&#160;&#160;&#160;(<a class="el" href="global__definitions_8h.html#a47fde7124d36ed243861ce7e7a30bf7f">NUM_TIME_SAMPLES</a>*2*FFT_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Difference in time between consecutive timestamps </p>

</div>
</div>
<a class="anchor" id="a19eb0efaa8a1d77712b26ec708e4fd56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USE_SSE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use SSE instructions, can either be 1 or 0, SSE instructions greatly increase performance. Block size must be either 4,8 or 16 when SSE is 1. Ensure that your processor supports the instructions. Most processors will support a block size of 4 or 8(SSE or AVX instructions), only newer processors support 16(AVX512 instructions) </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad10ea968fb8f53bcca11b6cc0758ff0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_baseline_products_struct__out.html">BaselineProductsStruct_out</a>  <a class="el" href="global__definitions_8h.html#ad10ea968fb8f53bcca11b6cc0758ff0b">BaselineProducts_out</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Strut contatining baseline products for a pair of antennas. For each antenna pair, two of these structs are required, one for the imaginary component and the other for the real component </p>

</div>
</div>
<a class="anchor" id="a15a16a561045b7779c1db048066fc364"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_dual_poll_complex_struct__in.html">DualPollComplexStruct_in</a>  <a class="el" href="global__definitions_8h.html#a15a16a561045b7779c1db048066fc364">DualPollComplex_in</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Struct storing dual pol complex samples as received by the F-Engines </p>

</div>
</div>
<a class="anchor" id="af8026c7301755dfceba7e6cda5830e46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_pipeline_counts_struct.html">PipelineCountsStruct</a>  <a class="el" href="global__definitions_8h.html#af8026c7301755dfceba7e6cda5830e46">PipelineCounts</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Struct counters for different stages in the pipeline. This is used to monitor flow rates through the pipeline </p>

</div>
</div>
<a class="anchor" id="aca3be2a33f2e7a79e14ba4a3d6f77268"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_x_gpu_input_buffer_packet_struct.html">XGpuInputBufferPacketStruct</a>  <a class="el" href="global__definitions_8h.html#aca3be2a33f2e7a79e14ba4a3d6f77268">XGpuInputBufferPacket</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Struct pointing to location in pinned host memory that will be transferred to the GPU. The <a class="el" href="class_x_gpu_buffers.html" title="A class for managing xGPU initialisation and memory assignment. ">XGpuBuffers</a> class manages the allocation of this memory, the XGpuInputBufferPacket just stores the pointer and index of this in the buffer The samples are ordered from [time][channel][antenna][polarization][complexity](ordered from slowest to fastest changing values) when not using DP4A instructions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_ptr</td><td>Pointer to location in pinned host memory buffer </td></tr>
    <tr><td class="paramname">offset</td><td>The position of this packet within the other packets in the buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7919954aecf9a2c4521f0af7c1109498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_x_gpu_output_buffer_packet_struct.html">XGpuOutputBufferPacketStruct</a>  <a class="el" href="global__definitions_8h.html#a7919954aecf9a2c4521f0af7c1109498">XGpuOutputBufferPacket</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Struct pointing to the location in host memory that the data that is generated by xGPU is stored. The data is arranged as [complexity][channel][antenna][antenna](ordered from slowest to fastest changing values). The function <a class="el" href="global__definitions_8h.html#a715d2499260b59d9c8d45517fd543d15" title="Function to get the index of a single baseline in a packet of baselines output from xGPU...">getBaselineOffset()</a> shows the ordering of the [antenna][antenna] section. This ordering is complicated as the baselines are split into quadrants based on whether antenna1/antenna2 are odd or even </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_ptr</td><td>Pointer to location in pinned host memory buffer </td></tr>
    <tr><td class="paramname">offset</td><td>The position of this packet within the other packets in the buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a73aa3958c89ff5dd44c96d2994acad40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayBaseline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="global__definitions_8h.html#ad10ea968fb8f53bcca11b6cc0758ff0b">BaselineProducts_out</a> *&#160;</td>
          <td class="paramname"><em>XGpuPacketOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to print out an individual baseline. It is required that i&gt;j or else an error is thrown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">XGpuPacketOut</td><td>Pointer to packet containing the output baselines </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>Index of first antenna. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>Index of second antenna </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a715d2499260b59d9c8d45517fd543d15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getBaselineOffset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ant0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ant1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get the index of a single baseline in a packet of baselines output from xGPU. This offset is not in bytes, but in baselines. It needs to be multiplied by size of a baseline to search through bytes. It is required that ant0&gt;ant1 or else an error is thrown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">XGpuPacketOut</td><td>Pointer to packet containing the output baselines </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ant0</td><td>Index of first antenna. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ant1</td><td>Index of second antenna </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
